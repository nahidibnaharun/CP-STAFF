#include<bits/stdc++.h>
using namespace std;
using ll = long long;
using ull = unsigned long long;
using ui = unsigned int;
const ll INF = 1e17+7;
/*
//      _   __  ___  __   __ _______ _______
//     / | / / / _ \ \ \__\ \\__  __\\  __  \ 
//    /  |/ / / /_\ \ \  ___ \  \ \   \ \ \  \ 
//   / /|  / / ____  \ \ \  \ \ _\ \___\ \/  /
//  /_/ |_/ /_/    \__\ \_\  \_\\______\\___/

ID: mdnahidibnaharun
LANG: C++
TASK: practice 
*/

void solve(){
int n,q;cin>>n>>q;
string s;cin>>s;
while(q--){
      string cmd; cin >> cmd;
        if(cmd == "pop_back") s.pop_back();
        else if(cmd == "front")  cout << s.front() <<endl;
        else if(cmd == "back")  cout << s.back() <<endl;
        else if(cmd == "sort" || cmd == "reverse"){
            int l, r; cin >> l >> r;
            if(l > r) swap(l, r);
            if(cmd == "sort") sort(s.begin() + (l-1), s.begin() + r);
            else reverse(s.begin() + (l-1), s.begin() + r);
        }
        else if(cmd == "print"){
            int pos; cin >> pos;
            cout << s[pos-1] <<endl;
        }
        else if(cmd == "substr"){
            int l, r; cin >> l >> r;
            if(l > r) swap(l, r);
            cout << s.substr(l-1, r-l+1) <<endl;
        }
        else if(cmd == "push_back"){
            string t; cin >> t; 
            s.push_back(t[0]);
        }
}

}
int main(){
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);
    // int t;cin>>t;
    // while(t--){
        solve();
    //     cout<<endl;
    // }
return 0;
}
