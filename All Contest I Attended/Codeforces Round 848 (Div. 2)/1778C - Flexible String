
#include <bits/stdc++.h>
using namespace std;

using ll = long long;
using ull = unsigned long long;
using ld = long double;
using ui = unsigned int;

const int INF = 1e9;
const int MOD = 1000000007;
const int MAX = 200007;

/*
//	    _   __  ___  __   __ _______ _______
//	   / | / / / _ \ \ \__\ \\__  __\\  __  \
//	  /  |/ / / /_\ \ \  ___ \  \ \   \ \ \  \
//	 / /|  / / ____  \ \ \  \ \ _\ \___\ \/  /
//	/_/ |_/ /_/    \__\ \_\  \_\\______\\___/
//
// ID: mdnahidibnaharun
// LANG: C++
// TASK: practice
*/

string a, b;
string char_list;
bool mark[26];
ll ans, k;

ll count_matching_pair()
{
    ll tot_pair = 0, match_count = 0;

    for (int i = 0; i < (int)a.size(); i++)
    {
        if (a[i] == b[i] || mark[a[i] - 'a'])
            match_count++;
        else
        {
            tot_pair += match_count * (match_count + 1) / 2;
            match_count = 0;
        }
    }

    tot_pair += match_count * (match_count + 1) / 2;
    return tot_pair;
}

void dfs(int pos, ll cnt)
{
    if (cnt > k)
        return;

    if (pos == (int)char_list.size())
    {
        if (cnt == k)
            ans = max(ans, count_matching_pair());
        return;
    }

    dfs(pos + 1, cnt);

    mark[char_list[pos] - 'a'] = 1;
    dfs(pos + 1, cnt + 1);
    mark[char_list[pos] - 'a'] = 0;
}

void solve()
{
    ll n;
    cin >> n >> k;
    cin >> a >> b;

    unordered_set<char> unq;
    for (char ch : a)
        unq.insert(ch);

    char_list.clear();
    for (char ch : unq)
        char_list.push_back(ch);

    k = min(k, (ll)char_list.size());
    memset(mark, 0, sizeof mark);

    ans = 0;
    dfs(0, 0);

    cout << ans << '\n';
}

int main()
{
    ios_base::sync_with_stdio(false);
    cin.tie(nullptr);

    int t;
    cin >> t;
    while (t--)
    {
        solve();
        // cout << endl;
    }
    return 0;
}
