#include<bits/stdc++.h>
using namespace std;
using ll = long long;
using ull = unsigned long long;
const int INF=1000000000;

/*
//      _   __  ___  __   __ _______ _______
//     / | / / / _ \ \ \__\ \\__  __\\  __  \ 
//    /  |/ / / /_\ \ \  ___ \  \ \   \ \ \  \ 
//   / /|  / / ____  \ \ \  \ \ _\ \___\ \/  /
//  /_/ |_/ /_/    \__\ \_\  \_\\______\\___/

ID: mdnahidibnaharun
LANG: C++
TASK: practice 
*/

void solve(){
int n;cin>>n;vector<double>a(n+2),b(n+2),e(n+2);
for(int i=1;i<=n;i++)cin>>a[i];
for(int i=1;i<=n;i++)cin>>b[i];
double mxa=0;
for(int i=1;i<=n;i++)mxa+=a[i];
double lo=0,hi=mxa+1;
for(int id=0;id<80;id++){
    double mid=0.5*(lo+hi);e[n+1]=0;
    double s=0;
    for(int x=n;x>=1;x--){
        double stc=a[x]+e[x+1],rct=b[x]+mid;
        e[x]=min(stc,rct);s+=e[x];
    }double f=s/(n+1.0);
    if(f>mid)lo=mid;
    else hi=mid;

}double dstr=0.5*(lo+hi);
e[n+1]=0;
for(int x=n;x>=1;x--){
    double stc=a[x]+e[x+1],rct=b[x]+dstr;e[x]=min(stc,rct);
}
cout<<fixed<<setprecision(6)<<e[1];
} 
int main(){
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);
  int t;cin>>t;
  while(t--){
    solve();
    cout<<endl;
  }
}
